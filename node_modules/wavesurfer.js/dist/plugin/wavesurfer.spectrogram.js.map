{"version":3,"file":"wavesurfer.spectrogram.js","mappings":"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","sources":["webpack://WaveSurfer/webpack/universalModuleDefinition","webpack://WaveSurfer/./src/plugin/spectrogram/fft.js","webpack://WaveSurfer/./src/plugin/spectrogram/index.js","webpack://WaveSurfer/webpack/bootstrap","webpack://WaveSurfer/webpack/before-startup","webpack://WaveSurfer/webpack/startup","webpack://WaveSurfer/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"WaveSurfer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"WaveSurfer\"] = factory();\n\telse\n\t\troot[\"WaveSurfer\"] = root[\"WaveSurfer\"] || {}, root[\"WaveSurfer\"][\"spectrogram\"] = factory();\n})(self, () => {\nreturn ","/* eslint-disable complexity, no-redeclare, no-var, one-var */\n\n/**\n * Calculate FFT - Based on https://github.com/corbanbrook/dsp.js\n *\n * @param {Number} bufferSize Buffer size\n * @param {Number} sampleRate Sample rate\n * @param {Function} windowFunc Window function\n * @param {Number} alpha Alpha channel\n */\nexport default function FFT(bufferSize, sampleRate, windowFunc, alpha) {\n    this.bufferSize = bufferSize;\n    this.sampleRate = sampleRate;\n    this.bandwidth = (2 / bufferSize) * (sampleRate / 2);\n\n    this.sinTable = new Float32Array(bufferSize);\n    this.cosTable = new Float32Array(bufferSize);\n    this.windowValues = new Float32Array(bufferSize);\n    this.reverseTable = new Uint32Array(bufferSize);\n\n    this.peakBand = 0;\n    this.peak = 0;\n\n    var i;\n    switch (windowFunc) {\n        case 'bartlett':\n            for (i = 0; i < bufferSize; i++) {\n                this.windowValues[i] =\n                    (2 / (bufferSize - 1)) *\n                    ((bufferSize - 1) / 2 - Math.abs(i - (bufferSize - 1) / 2));\n            }\n            break;\n        case 'bartlettHann':\n            for (i = 0; i < bufferSize; i++) {\n                this.windowValues[i] =\n                    0.62 -\n                    0.48 * Math.abs(i / (bufferSize - 1) - 0.5) -\n                    0.38 * Math.cos((Math.PI * 2 * i) / (bufferSize - 1));\n            }\n            break;\n        case 'blackman':\n            alpha = alpha || 0.16;\n            for (i = 0; i < bufferSize; i++) {\n                this.windowValues[i] =\n                    (1 - alpha) / 2 -\n                    0.5 * Math.cos((Math.PI * 2 * i) / (bufferSize - 1)) +\n                    (alpha / 2) *\n                        Math.cos((4 * Math.PI * i) / (bufferSize - 1));\n            }\n            break;\n        case 'cosine':\n            for (i = 0; i < bufferSize; i++) {\n                this.windowValues[i] = Math.cos(\n                    (Math.PI * i) / (bufferSize - 1) - Math.PI / 2\n                );\n            }\n            break;\n        case 'gauss':\n            alpha = alpha || 0.25;\n            for (i = 0; i < bufferSize; i++) {\n                this.windowValues[i] = Math.pow(\n                    Math.E,\n                    -0.5 *\n                        Math.pow(\n                            (i - (bufferSize - 1) / 2) /\n                                ((alpha * (bufferSize - 1)) / 2),\n                            2\n                        )\n                );\n            }\n            break;\n        case 'hamming':\n            for (i = 0; i < bufferSize; i++) {\n                this.windowValues[i] =\n                    0.54 -\n                    0.46 * Math.cos((Math.PI * 2 * i) / (bufferSize - 1));\n            }\n            break;\n        case 'hann':\n        case undefined:\n            for (i = 0; i < bufferSize; i++) {\n                this.windowValues[i] =\n                    0.5 * (1 - Math.cos((Math.PI * 2 * i) / (bufferSize - 1)));\n            }\n            break;\n        case 'lanczoz':\n            for (i = 0; i < bufferSize; i++) {\n                this.windowValues[i] =\n                    Math.sin(Math.PI * ((2 * i) / (bufferSize - 1) - 1)) /\n                    (Math.PI * ((2 * i) / (bufferSize - 1) - 1));\n            }\n            break;\n        case 'rectangular':\n            for (i = 0; i < bufferSize; i++) {\n                this.windowValues[i] = 1;\n            }\n            break;\n        case 'triangular':\n            for (i = 0; i < bufferSize; i++) {\n                this.windowValues[i] =\n                    (2 / bufferSize) *\n                    (bufferSize / 2 - Math.abs(i - (bufferSize - 1) / 2));\n            }\n            break;\n        default:\n            throw Error(\"No such window function '\" + windowFunc + \"'\");\n    }\n\n    var limit = 1;\n    var bit = bufferSize >> 1;\n    var i;\n\n    while (limit < bufferSize) {\n        for (i = 0; i < limit; i++) {\n            this.reverseTable[i + limit] = this.reverseTable[i] + bit;\n        }\n\n        limit = limit << 1;\n        bit = bit >> 1;\n    }\n\n    for (i = 0; i < bufferSize; i++) {\n        this.sinTable[i] = Math.sin(-Math.PI / i);\n        this.cosTable[i] = Math.cos(-Math.PI / i);\n    }\n\n    this.calculateSpectrum = function(buffer) {\n        // Locally scope variables for speed up\n        var bufferSize = this.bufferSize,\n            cosTable = this.cosTable,\n            sinTable = this.sinTable,\n            reverseTable = this.reverseTable,\n            real = new Float32Array(bufferSize),\n            imag = new Float32Array(bufferSize),\n            bSi = 2 / this.bufferSize,\n            sqrt = Math.sqrt,\n            rval,\n            ival,\n            mag,\n            spectrum = new Float32Array(bufferSize / 2);\n\n        var k = Math.floor(Math.log(bufferSize) / Math.LN2);\n\n        if (Math.pow(2, k) !== bufferSize) {\n            throw 'Invalid buffer size, must be a power of 2.';\n        }\n        if (bufferSize !== buffer.length) {\n            throw 'Supplied buffer is not the same size as defined FFT. FFT Size: ' +\n                bufferSize +\n                ' Buffer Size: ' +\n                buffer.length;\n        }\n\n        var halfSize = 1,\n            phaseShiftStepReal,\n            phaseShiftStepImag,\n            currentPhaseShiftReal,\n            currentPhaseShiftImag,\n            off,\n            tr,\n            ti,\n            tmpReal;\n\n        for (var i = 0; i < bufferSize; i++) {\n            real[i] =\n                buffer[reverseTable[i]] * this.windowValues[reverseTable[i]];\n            imag[i] = 0;\n        }\n\n        while (halfSize < bufferSize) {\n            phaseShiftStepReal = cosTable[halfSize];\n            phaseShiftStepImag = sinTable[halfSize];\n\n            currentPhaseShiftReal = 1;\n            currentPhaseShiftImag = 0;\n\n            for (var fftStep = 0; fftStep < halfSize; fftStep++) {\n                var i = fftStep;\n\n                while (i < bufferSize) {\n                    off = i + halfSize;\n                    tr =\n                        currentPhaseShiftReal * real[off] -\n                        currentPhaseShiftImag * imag[off];\n                    ti =\n                        currentPhaseShiftReal * imag[off] +\n                        currentPhaseShiftImag * real[off];\n\n                    real[off] = real[i] - tr;\n                    imag[off] = imag[i] - ti;\n                    real[i] += tr;\n                    imag[i] += ti;\n\n                    i += halfSize << 1;\n                }\n\n                tmpReal = currentPhaseShiftReal;\n                currentPhaseShiftReal =\n                    tmpReal * phaseShiftStepReal -\n                    currentPhaseShiftImag * phaseShiftStepImag;\n                currentPhaseShiftImag =\n                    tmpReal * phaseShiftStepImag +\n                    currentPhaseShiftImag * phaseShiftStepReal;\n            }\n\n            halfSize = halfSize << 1;\n        }\n\n        for (var i = 0, N = bufferSize / 2; i < N; i++) {\n            rval = real[i];\n            ival = imag[i];\n            mag = bSi * sqrt(rval * rval + ival * ival);\n\n            if (mag > this.peak) {\n                this.peakBand = i;\n                this.peak = mag;\n            }\n            spectrum[i] = mag;\n        }\n        return spectrum;\n    };\n}\n","/* eslint-enable complexity, no-redeclare, no-var, one-var */\n\nimport FFT from './fft';\n\n/**\n * @typedef {Object} SpectrogramPluginParams\n * @property {string|HTMLElement} container Selector of element or element in\n * which to render\n * @property {number} fftSamples=512 Number of samples to fetch to FFT. Must be\n * a power of 2.\n * @property {boolean} splitChannels=false Render with separate spectrograms for\n * the channels of the audio\n * @property {number} height=fftSamples/2 Height of the spectrogram view in CSS\n * pixels\n * @property {boolean} labels Set to true to display frequency labels.\n * @property {number} noverlap Size of the overlapping window. Must be <\n * fftSamples. Auto deduced from canvas size by default.\n * @property {string} windowFunc='hann' The window function to be used. One of\n * these: `'bartlett'`, `'bartlettHann'`, `'blackman'`, `'cosine'`, `'gauss'`,\n * `'hamming'`, `'hann'`, `'lanczoz'`, `'rectangular'`, `'triangular'`\n * @property {?number} alpha Some window functions have this extra value.\n * (Between 0 and 1)\n * @property {number} pixelRatio=wavesurfer.params.pixelRatio to control the\n * size of the spectrogram in relation with its canvas. 1 = Draw on the whole\n * canvas. 2 = Draw on a quarter (1/2 the length and 1/2 the width)\n * @property {number} frequencyMin=0 Min frequency to scale spectrogram.\n * @property {number} frequencyMax=12000 Max frequency to scale spectrogram.\n * Set this to samplerate/2 to draw whole range of spectrogram.\n * @property {?boolean} deferInit Set to true to manually call\n * `initPlugin('spectrogram')`\n * @property {?number[][]} colorMap A 256 long array of 4-element arrays.\n * Each entry should contain a float between 0 and 1 and specify\n * r, g, b, and alpha.\n */\n\n/**\n * Render a spectrogram visualisation of the audio.\n *\n * @implements {PluginClass}\n * @extends {Observer}\n * @example\n * // es6\n * import SpectrogramPlugin from 'wavesurfer.spectrogram.js';\n *\n * // commonjs\n * var SpectrogramPlugin = require('wavesurfer.spectrogram.js');\n *\n * // if you are using <script> tags\n * var SpectrogramPlugin = window.WaveSurfer.spectrogram;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     SpectrogramPlugin.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\nexport default class SpectrogramPlugin {\n    /**\n     * Spectrogram plugin definition factory\n     *\n     * This function must be used to create a plugin definition which can be\n     * used by wavesurfer to correctly instantiate the plugin.\n     *\n     * @param  {SpectrogramPluginParams} params Parameters used to initialise the plugin\n     * @return {PluginDefinition} An object representing the plugin.\n     */\n    static create(params) {\n        return {\n            name: 'spectrogram',\n            deferInit: params && params.deferInit ? params.deferInit : false,\n            params: params,\n            staticProps: {\n                FFT: FFT\n            },\n            instance: SpectrogramPlugin\n        };\n    }\n\n    constructor(params, ws) {\n        this.params = params;\n        this.wavesurfer = ws;\n        this.util = ws.util;\n\n        this.frequenciesDataUrl = params.frequenciesDataUrl;\n        this._onScroll = e => {\n            this.updateScroll(e);\n        };\n        this._onRender = () => {\n            this.render();\n        };\n        this._onZoom = () => {\n            this.stretchCanvases();\n        };\n        this._onWrapperClick = e => {\n            this._wrapperClickHandler(e);\n        };\n        this._onReady = () => {\n            const drawer = (this.drawer = ws.drawer);\n\n            this.container =\n                'string' == typeof params.container\n                    ? document.querySelector(params.container)\n                    : params.container;\n\n            if (!this.container) {\n                throw Error('No container for WaveSurfer spectrogram');\n            }\n            if (params.colorMap) {\n                if (params.colorMap.length < 256) {\n                    throw new Error('Colormap must contain 256 elements');\n                }\n                for (let i = 0; i < params.colorMap.length; i++) {\n                    const cmEntry = params.colorMap[i];\n                    if (cmEntry.length !== 4) {\n                        throw new Error(\n                            'ColorMap entries must contain 4 values'\n                        );\n                    }\n                }\n                this.colorMap = params.colorMap;\n            } else {\n                this.colorMap = [];\n                for (let i = 0; i < 256; i++) {\n                    const val = (255 - i) / 256;\n                    this.colorMap.push([val, val, val, 1]);\n                }\n            }\n            this.width = drawer.width;\n            this.pixelRatio = this.params.pixelRatio || ws.params.pixelRatio;\n            this.fftSamples =\n                this.params.fftSamples || ws.params.fftSamples || 512;\n            this.height = this.params.height || this.fftSamples / 2;\n            this.noverlap = params.noverlap;\n            this.windowFunc = params.windowFunc;\n            this.alpha = params.alpha;\n            this.splitChannels = params.splitChannels;\n            this.channels = this.splitChannels ? ws.backend.buffer.numberOfChannels : 1;\n            this.canvases = [];\n            this.canvasesTimeouts = [];\n            this.scrollLeftTracker = 0; //Tracks the desired scrollLeft value\n\n            // Getting file's original samplerate is difficult(#1248).\n            // So set 12kHz default to render like wavesurfer.js 5.x.\n            this.frequencyMin = params.frequencyMin || 0;\n            this.frequencyMax = params.frequencyMax || 12000;\n\n            this.createWrapper();\n            this.addCanvas();\n            this.render();\n\n            drawer.wrapper.addEventListener('scroll', this._onScroll);\n            ws.on('zoom', this._onZoom);\n            ws.on('redraw', this._onRender);\n        };\n    }\n\n    init() {\n        // Check if wavesurfer is ready\n        if (this.wavesurfer.isReady) {\n            this._onReady();\n        } else {\n            this.wavesurfer.once('ready', this._onReady);\n        }\n    }\n\n    destroy() {\n        this.unAll();\n        this.wavesurfer.un('ready', this._onReady);\n        this.wavesurfer.un('redraw', this._onRender);\n        this.drawer && this.drawer.wrapper.removeEventListener('scroll', this._onScroll);\n        this.wavesurfer = null;\n        this.util = null;\n        this.params = null;\n        if (this.wrapper) {\n            this.wrapper.removeEventListener('click', this._onWrapperClick);\n            this.wrapper.parentNode.removeChild(this.wrapper);\n            this.wrapper = null;\n        }\n    }\n\n    createWrapper() {\n        const prevSpectrogram = this.container.querySelector('spectrogram');\n        if (prevSpectrogram) {\n            this.container.removeChild(prevSpectrogram);\n        }\n        const wsParams = this.wavesurfer.params;\n        this.wrapper = document.createElement('spectrogram');\n        // if labels are active\n        if (this.params.labels) {\n            const labelsEl = (this.labelsEl = document.createElement('canvas'));\n            labelsEl.classList.add('spec-labels');\n            this.drawer.style(labelsEl, {\n                position: 'absolute',\n                zIndex: 9,\n                height: `${this.height * this.channels}px`,\n                width: `55px`\n            });\n            this.wrapper.appendChild(labelsEl);\n            this.loadLabels(\n                'rgba(68,68,68,0.5)',\n                '12px',\n                '10px',\n                '',\n                '#fff',\n                '#f7f7f7',\n                'center',\n                '#specLabels'\n            );\n        }\n\n        this.drawer.style(this.wrapper, {\n            display: 'block',\n            position: 'relative',\n            userSelect: 'none',\n            webkitUserSelect: 'none',\n            height: `${this.height * this.channels}px`\n        });\n\n        if (wsParams.fillParent || wsParams.scrollParent) {\n            this.drawer.style(this.wrapper, {\n                width: '100%',\n                overflowX: 'hidden',\n                overflowY: 'hidden'\n            });\n        }\n        this.container.appendChild(this.wrapper);\n\n        this.wrapper.addEventListener('click', this._onWrapperClick);\n    }\n\n    _wrapperClickHandler(event) {\n        event.preventDefault();\n        const relX = 'offsetX' in event ? event.offsetX : event.layerX;\n        this.fireEvent('click', relX / this.width || 0);\n    }\n\n    /**\n     * Add a canvas to this.canvases\n     */\n    addCanvas() {\n        const canvas = (this.wrapper.appendChild(\n            document.createElement('canvas')\n        ));\n\n        this.util.style(canvas, {\n            position: 'absolute',\n            zIndex: 4\n        });\n\n        this.canvases.push(canvas);\n        this.canvasesTimeouts.push(null);\n    }\n\n    /**\n     * Remove a canvas from this.canvases\n     */\n    removeCanvas() {\n        //Stop drawing (if drawing)\n        clearTimeout(this.canvasesTimeouts[this.canvasesTimeouts.length - 1]);\n\n        let lastEntry = this.canvases[this.canvases.length - 1];\n        lastEntry.parentElement.removeChild(lastEntry);\n\n        this.canvases.pop();\n        this.canvasesTimeouts.pop();\n    }\n\n    /**\n     * Ensure the correct number of canvases for the size of the spectrogram\n     */\n    updateCanvases() {\n        let canvasesRequired = Math.ceil(this.width / 4000);\n\n        while (this.canvases.length < canvasesRequired) {\n            this.addCanvas();\n        }\n        while (this.canvases.length > canvasesRequired) {\n            this.removeCanvas();\n        }\n    }\n\n    render() {\n        this.updateCanvasStyle();\n\n        if (this.frequenciesDataUrl) {\n            this.loadFrequenciesData(this.frequenciesDataUrl);\n        } else {\n            this.getFrequencies(this.drawSpectrogram);\n        }\n    }\n\n    updateCanvasStyle() {\n        this.updateCanvases();\n        //width per canvas\n        for (let i = 0; i < this.canvases.length; i++) {\n            this.canvases[i].width = Math.round(this.width / this.canvases.length);\n            this.canvases[i].height = this.fftSamples / 2 * this.channels;\n            this.canvases[i].style.width = Math.round(this.canvases[i].width / this.pixelRatio) + 'px';\n            this.canvases[i].style.height = this.height + 'px';\n        }\n    }\n\n    drawSpectrogram(frequenciesData, my) {\n        if (!isNaN(frequenciesData[0][0])) { // data is 1ch [sample, freq] format\n            // to [channel, sample, freq] format\n            frequenciesData = [frequenciesData];\n        }\n\n        my.updateCanvasStyle();\n\n        //Stop canvases still being drawn\n        for (let i = 0; i < my.canvasesTimeouts.length; i++) {\n            clearTimeout(my.canvasesTimeouts[i]);\n        }\n\n        const view = [my.scrollLeftTracker, my.scrollLeftTracker + my.wrapper.clientWidth];\n\n        for (let canvasNum = 0; canvasNum < my.canvases.length; canvasNum++) {\n            const canvasLeft = canvasNum * Math.floor(my.width / my.canvases.length / my.pixelRatio);\n            const canvasRight = (canvasNum + 1) * Math.floor(my.width / my.canvases.length / my.pixelRatio);\n            const canvasBound = [canvasLeft, canvasRight];\n            my.canvases[canvasNum].style['left'] = canvasLeft + 'px';\n\n            //Optimise drawing for the view\n            let priority = 0;\n            if (canvasBound[0] > view[1]) {\n                //Canvas is to the right of view window\n                let distance = canvasBound[0] - view[1];\n                priority = Math.ceil(distance / (view[1] - view[0]));\n            } else if (canvasBound[1] < view[0]) {\n                //Canvas is to the left of the view window\n                let distance = view[0] - canvasBound[1];\n                priority = Math.ceil(distance / (view[1] - view[0]));\n            }\n\n            //delay = 25ms * number of viewport widths away the canvas is\n            my.canvasesTimeouts[canvasNum] = setTimeout(my.drawToCanvas, 25 * priority, frequenciesData, my, canvasNum);\n        }\n    }\n\n    /**\n     * Draw spectrogram channel to a specific canvas\n     * @param {[Number, Number, Number]} frequenciesData spectrogram data in [channel, sample, freq] format\n     * @param {SpectrogramPlugin} my variable with 'this' in it\n     * @param {Number} canvasNum Canvas to draw to\n     */\n    drawToCanvas(frequenciesData, my, canvasNum) {\n        const height = my.fftSamples / 2;\n        const freqFrom = my.buffer.sampleRate / 2;\n        const freqMin = my.frequencyMin;\n        const freqMax = my.frequencyMax;\n\n        for (let channel = 0; channel < frequenciesData.length; channel++) {\n\n            //Get pixels from frequency data and apply to image\n            const relevantFreqs = frequenciesData[channel].slice(canvasNum * Math.round(frequenciesData[channel].length / my.canvases.length), (canvasNum + 1) * Math.round(frequenciesData[channel].length / my.canvases.length));\n            const pixels = my.resample(relevantFreqs);\n            const imageData = new ImageData(pixels.length, height);\n\n            for (let i = 0; i < pixels.length; i++) {\n                for (let j = 0; j < pixels[i].length; j++) {\n                    const colorMap = my.colorMap[pixels[i][j]];\n                    const redIndex = ((height - j) * imageData.width + i) * 4;\n                    imageData.data[redIndex] = colorMap[0] * 255;\n                    imageData.data[redIndex + 1] = colorMap[1] * 255;\n                    imageData.data[redIndex + 2] = colorMap[2] * 255;\n                    imageData.data[redIndex + 3] = colorMap[3] * 255;\n                }\n            }\n\n            //Draw image to canvas\n            createImageBitmap(imageData).then(renderer => {\n                if (my.canvases[canvasNum]) { //Check canvas still exists after creating image\n                    my.canvases[canvasNum].getContext('2d').drawImage(renderer,\n                        0, height * (1 - freqMax / freqFrom), // source x, y\n                        imageData.width, height * (freqMax - freqMin) / freqFrom, // source width, height\n                        0, height * channel, // destination x, y\n                        my.canvases[canvasNum].width, height // destination width, height\n                    );\n                }\n            });\n        }\n        //Drawing is finished\n        my.canvasesTimeouts[canvasNum] = null;\n    }\n\n    getFrequencies(callback) {\n        const fftSamples = this.fftSamples;\n        const buffer = (this.buffer = this.wavesurfer.backend.buffer);\n        const channels = this.channels;\n\n        if (!buffer) {\n            this.fireEvent('error', 'Web Audio buffer is not available');\n            return;\n        }\n\n        // This may differ from file samplerate. Browser resamples audio.\n        const sampleRate = buffer.sampleRate;\n        const frequencies = [];\n\n        let noverlap = this.noverlap;\n        if (!noverlap) {\n            const uniqueSamplesPerPx = buffer.length / this.width;\n            noverlap = Math.max(0, Math.round(fftSamples - uniqueSamplesPerPx));\n        }\n\n        const fft = new FFT(\n            fftSamples,\n            sampleRate,\n            this.windowFunc,\n            this.alpha\n        );\n\n        for (let c = 0; c < channels; c++) { // for each channel\n            const channelData = buffer.getChannelData(c);\n            const channelFreq = [];\n            let currentOffset = 0;\n\n            while (currentOffset + fftSamples < channelData.length) {\n                const segment = channelData.slice(\n                    currentOffset,\n                    currentOffset + fftSamples\n                );\n                const spectrum = fft.calculateSpectrum(segment);\n                const array = new Uint8Array(fftSamples / 2);\n                let j;\n                for (j = 0; j < fftSamples / 2; j++) {\n                    array[j] = Math.max(-255, Math.log10(spectrum[j]) * 45);\n                }\n                channelFreq.push(array);\n                // channelFreq: [sample, freq]\n\n                currentOffset += fftSamples - noverlap;\n            }\n            frequencies.push(channelFreq);\n            // frequencies: [channel, sample, freq]\n        }\n        callback(frequencies, this);\n    }\n\n    loadFrequenciesData(url) {\n        const request = this.util.fetchFile({ url: url });\n\n        request.on('success', data =>\n            this.drawSpectrogram(JSON.parse(data), this)\n        );\n        request.on('error', e => this.fireEvent('error', e));\n\n        return request;\n    }\n\n    freqType(freq) {\n        return freq >= 1000 ? (freq / 1000).toFixed(1) : Math.round(freq);\n    }\n\n    unitType(freq) {\n        return freq >= 1000 ? 'KHz' : 'Hz';\n    }\n\n    loadLabels(\n        bgFill,\n        fontSizeFreq,\n        fontSizeUnit,\n        fontType,\n        textColorFreq,\n        textColorUnit,\n        textAlign,\n        container\n    ) {\n        const frequenciesHeight = this.height;\n        bgFill = bgFill || 'rgba(68,68,68,0)';\n        fontSizeFreq = fontSizeFreq || '12px';\n        fontSizeUnit = fontSizeUnit || '10px';\n        fontType = fontType || 'Helvetica';\n        textColorFreq = textColorFreq || '#fff';\n        textColorUnit = textColorUnit || '#fff';\n        textAlign = textAlign || 'center';\n        container = container || '#specLabels';\n        const bgWidth = 55;\n        const getMaxY = frequenciesHeight || 512;\n        const labelIndex = 5 * (getMaxY / 256);\n        const freqStart = this.frequencyMin;\n        const step = (this.frequencyMax - freqStart) / labelIndex;\n\n        // prepare canvas element for labels\n        const ctx = this.labelsEl.getContext('2d');\n        const dispScale = window.devicePixelRatio;\n        this.labelsEl.height = this.height * this.channels * dispScale;\n        this.labelsEl.width = bgWidth * dispScale;\n        ctx.scale(dispScale, dispScale);\n\n        if (!ctx) {\n            return;\n        }\n\n        for (let c = 0; c < this.channels; c++) { // for each channel\n            // fill background\n            ctx.fillStyle = bgFill;\n            ctx.fillRect(0, c * getMaxY, bgWidth, (1 + c) * getMaxY);\n            ctx.fill();\n            let i;\n\n            // render labels\n            for (i = 0; i <= labelIndex; i++) {\n                ctx.textAlign = textAlign;\n                ctx.textBaseline = 'middle';\n\n                const freq = freqStart + step * i;\n                const label = this.freqType(freq);\n                const units = this.unitType(freq);\n                const yLabelOffset = 2;\n                const x = 16;\n                let y;\n\n                if (i == 0) {\n                    y = (1 + c) * getMaxY + i - 10;\n                    // unit label\n                    ctx.fillStyle = textColorUnit;\n                    ctx.font = fontSizeUnit + ' ' + fontType;\n                    ctx.fillText(units, x + 24, y);\n                    // freq label\n                    ctx.fillStyle = textColorFreq;\n                    ctx.font = fontSizeFreq + ' ' + fontType;\n                    ctx.fillText(label, x, y);\n                } else {\n                    y = (1 + c) * getMaxY - i * 50 + yLabelOffset;\n                    // unit label\n                    ctx.fillStyle = textColorUnit;\n                    ctx.font = fontSizeUnit + ' ' + fontType;\n                    ctx.fillText(units, x + 24, y);\n                    // freq label\n                    ctx.fillStyle = textColorFreq;\n                    ctx.font = fontSizeFreq + ' ' + fontType;\n                    ctx.fillText(label, x, y);\n                }\n            }\n        }\n    }\n\n    updateScroll(e) {\n        if (this.wrapper) {\n            this.scrollLeftTracker = e.target.scrollLeft;\n            this.wrapper.scrollLeft = e.target.scrollLeft;\n        }\n    }\n\n    resample(oldMatrix) {\n        const columnsNumber = oldMatrix.length;\n        const newMatrix = [];\n\n        const oldPiece = 1 / oldMatrix.length;\n        const newPiece = 1 / columnsNumber;\n        let i;\n\n        for (i = 0; i < columnsNumber; i++) {\n            const column = new Array(oldMatrix[0].length);\n            let j;\n\n            for (j = 0; j < oldMatrix.length; j++) {\n                const oldStart = j * oldPiece;\n                const oldEnd = oldStart + oldPiece;\n                const newStart = i * newPiece;\n                const newEnd = newStart + newPiece;\n\n                const overlap =\n                    oldEnd <= newStart || newEnd <= oldStart\n                        ? 0\n                        : Math.min(\n                            Math.max(oldEnd, newStart),\n                            Math.max(newEnd, oldStart)\n                        ) -\n                        Math.max(\n                            Math.min(oldEnd, newStart),\n                            Math.min(newEnd, oldStart)\n                        );\n                let k;\n                /* eslint-disable max-depth */\n                if (overlap > 0) {\n                    for (k = 0; k < oldMatrix[0].length; k++) {\n                        if (column[k] == null) {\n                            column[k] = 0;\n                        }\n                        column[k] += (overlap / newPiece) * oldMatrix[j][k];\n                    }\n                }\n                /* eslint-enable max-depth */\n            }\n\n            const intColumn = new Uint8Array(oldMatrix[0].length);\n            let m;\n\n            for (m = 0; m < oldMatrix[0].length; m++) {\n                intColumn[m] = column[m];\n            }\n\n            newMatrix.push(intColumn);\n        }\n\n        return newMatrix;\n    }\n\n    stretchCanvases() {\n        for (let i = 0; i < this.canvases.length; i++) {\n            this.canvases[i].style.width = Math.round(this.drawer.width / this.canvases.length / this.pixelRatio) + 'px';\n            const canvasLeft = i * Math.floor(this.drawer.width / this.canvases.length / this.pixelRatio);\n            this.canvases[i].style['left'] = canvasLeft + 'px';\n        }\n    }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/plugin/spectrogram/index.js\");\n",""],"names":["FFT","bufferSize","sampleRate","windowFunc","alpha","bandwidth","sinTable","Float32Array","cosTable","windowValues","reverseTable","Uint32Array","peakBand","peak","i","Math","abs","cos","PI","pow","E","undefined","sin","Error","limit","bit","calculateSpectrum","buffer","real","imag","bSi","sqrt","rval","ival","mag","spectrum","k","floor","log","LN2","length","halfSize","phaseShiftStepReal","phaseShiftStepImag","currentPhaseShiftReal","currentPhaseShiftImag","off","tr","ti","tmpReal","fftStep","N","module","exports","default","_fft","_interopRequireDefault","require","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","toPrimitive","res","call","Number","SpectrogramPlugin","params","ws","_this","wavesurfer","util","frequenciesDataUrl","_onScroll","e","updateScroll","_onRender","render","_onZoom","stretchCanvases","_onWrapperClick","_wrapperClickHandler","_onReady","drawer","container","document","querySelector","colorMap","cmEntry","val","push","width","pixelRatio","fftSamples","height","noverlap","splitChannels","channels","backend","numberOfChannels","canvases","canvasesTimeouts","scrollLeftTracker","frequencyMin","frequencyMax","createWrapper","addCanvas","wrapper","addEventListener","on","value","init","isReady","once","destroy","unAll","un","removeEventListener","parentNode","removeChild","prevSpectrogram","wsParams","createElement","labels","labelsEl","classList","add","style","position","zIndex","concat","appendChild","loadLabels","display","userSelect","webkitUserSelect","fillParent","scrollParent","overflowX","overflowY","event","preventDefault","relX","offsetX","layerX","fireEvent","canvas","removeCanvas","clearTimeout","lastEntry","parentElement","pop","updateCanvases","canvasesRequired","ceil","updateCanvasStyle","loadFrequenciesData","getFrequencies","drawSpectrogram","round","frequenciesData","my","isNaN","view","clientWidth","canvasNum","canvasLeft","canvasRight","canvasBound","priority","distance","setTimeout","drawToCanvas","freqFrom","freqMin","freqMax","_loop","channel","relevantFreqs","slice","pixels","resample","imageData","ImageData","j","redIndex","data","createImageBitmap","then","renderer","getContext","drawImage","callback","frequencies","uniqueSamplesPerPx","max","fft","c","channelData","getChannelData","channelFreq","currentOffset","segment","array","Uint8Array","log10","url","_this2","request","fetchFile","JSON","parse","freqType","freq","toFixed","unitType","bgFill","fontSizeFreq","fontSizeUnit","fontType","textColorFreq","textColorUnit","textAlign","frequenciesHeight","bgWidth","getMaxY","labelIndex","freqStart","step","ctx","dispScale","window","devicePixelRatio","scale","fillStyle","fillRect","fill","textBaseline","label","units","yLabelOffset","x","y","font","fillText","scrollLeft","oldMatrix","columnsNumber","newMatrix","oldPiece","newPiece","column","Array","oldStart","oldEnd","newStart","newEnd","overlap","min","intColumn","m","create","name","deferInit"],"sourceRoot":""}